<?xml version="1.0" encoding="UTF-8"?>

<head>
    <SCRIPT>var isomorphicDir = "../isomorphic/";</SCRIPT>
    <SCRIPT SRC=/isomorphic/system/modules/ISC_Core.js></SCRIPT>
    <SCRIPT SRC=/isomorphic/system/modules/ISC_Foundation.js></SCRIPT>
    <SCRIPT SRC=/isomorphic/system/modules/ISC_Containers.js></SCRIPT>
    <SCRIPT SRC=/isomorphic/system/modules/ISC_Grids.js></SCRIPT>
    <SCRIPT SRC=/isomorphic/system/modules/ISC_Forms.js></SCRIPT>
    <SCRIPT SRC=/isomorphic/system/modules/ISC_DataBinding.js></SCRIPT>
    <SCRIPT SRC=/isomorphic/skins/Tahoe/load_skin.js></SCRIPT>
    <!--    <link rel="stylesheet" type="text/css" href="/isomorphic/skins/Tahoe/skin_styles.css?isc_version=v12.1p_2021-06-18"/>-->
    <title>Title</title>
</head>
<body dir="rtl">
<script>
    var contentsData = [

        {
            title: "سرویس ها",
        }, {
            title: "شرکت ها",
        }]
    var endpointData ;

    isc.HLayout.create({
        width: "100%",
        height: "100%",
        members: [
            isc.ListGrid.create({
                ID: "contentsGrid",
                width: "20%", alternateRecordStyles: true,
                showResizeBar: true,
                data: contentsData,
                fields: [
                    {name: "title", title: "فهرست"},
                ],
                canReorderFields: true
            }),
            isc.VLayout.create({
                width: "80%",
                members: [
                    isc.Label.create({
                        contents: "سامانه مدیریت سرویس ها",
                        align: "center",
                        overflow: "hidden",
                        height: "5%",
                        showResizeBar: false,
                        border: "1px solid blue"
                    }),
                    isc.VLayout.create({
                        height: "70%",
                        border: "1px solid blue",
                        align: "center",
                        showResizeBar: true,
                        members: [
                            isc.ListGrid.create({
                                ID: "endpointGrid",
                                alternateRecordStyles: true,
                                data: endpointData,
                                fields: [
                                    {
                                        name: "endpointName",
                                        title: "نام سرویس",
                                    }
                                ],
                                canReorderFields: true
                            })
                        ]
                    })
                ]
            })
        ]
    });

    isc.RPCManager.sendRequest({
        actionURL: "http://localhost:4100/endpoints",
        httpMethod: "GET",
        callback: function (data, response) {
            endpointData= JSON.parse(response);
            endpointGrid.setData(endpointData);
            endpointGrid.fetchData();

        }
    })
</script>
</body>
</html>
